<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>GAE datastore相关</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">hackrole's note </a></h1>
                <nav><ul>
                    <li class="active"><a href="/category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/gae-datastorexiang-guan.html" rel="bookmark"
           title="Permalink to GAE datastore相关">GAE datastore相关</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T15:12:17+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/gae.html">GAE</a> <a href="/tag/datastore.html">datastore</a> </p>
</footer><!-- /.post-info -->      <div class="section" id="about-key">
<h2>about Key</h2>
<p>Key is a kind-identifier pairs,
kind default to be the Kind-string,
and can be change be rewrite the model's _get_kind() method.
identifier can be auto and handed by the app</p>
<p>Key can have a sequence of parent, which I'm lookforward to.</p>
<div class="line-block">
<div class="line">api                    | desc                                         |   |</div>
<div class="line">ndb.Key(kind, ident)   | get a key object                             |   |</div>
<div class="line">Entity(..).put()       | create a Entity object and return it keys    |   |</div>
<div class="line">key.get()              | from the key get the entity object           |   |</div>
<div class="line">key.kind()             | return the kind string                       |   |</div>
<div class="line">key.id()               | return the ident string                      |   |</div>
<div class="line">key.parent()           | return a parent key                          |   |</div>
<div class="line">key.urlsafe()          | return a url-encode string(using in hte url) |   |</div>
<div class="line">Key(urlsafe=urlString) | get a key from the urlsafe() string          |   |</div>
<div class="line-block">
<div class="line">|                                              |   |</div>
</div>
</div>
</div>
<div class="section" id="about-entity">
<h2>about Entity</h2>
<p>a Entity a key-properties Object
the key can't be change after create.</p>
<p>the Entity can define some hooks-method, for the put or delete and so on</p>
<div class="line-block">
<div class="line">api                          | desc                                            |                             |</div>
<div class="line">Entity()                     | new a Entity obj                                |                             |</div>
<div class="line">Entity().put()               | insert-or-update the Entity and return it's key |                             |</div>
<div class="line">Entity().key.delete()        | delete a  Entity                                | note the operate on the key |</div>
<div class="line">Entity().put_multi()         | put multi/return multi                          |                             |</div>
<div class="line">Entity().delee_multi([keys]) | delete multi                                    |                             |</div>
</div>
</div>
<div class="section" id="query">
<h2>query</h2>
</div>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>