<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>hackrole's note - GAE</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">hackrole's note </a></h1>
                <nav><ul>
                    <li><a href="/category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/appyaml-configue-for-google-app-engine.html">app.yaml configue for google app engine</a></h1>
<footer class="post-info">
        <abbr class="published" title="2016-01-08T15:51:45+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/gae.html">GAE</a> <a href="/tag/yaml.html">yaml</a> </p>
</footer><!-- /.post-info --><div class="section" id="elements">
<h2>elements</h2>
<div class="section" id="application">
<h3>application</h3>
<p>application id
应用程序id, gae id</p>
</div>
<div class="section" id="version">
<h3>version</h3>
<p>应用程序版本号,用于多版本管理和切换</p>
</div>
<div class="section" id="runtime">
<h3>runtime</h3>
<p>运行环境, 如python27</p>
</div>
<div class="section" id="handlers">
<h3>handlers</h3>
<p>路由配置,最重要的配置项
参考  script handler与static handler:</p>
<pre class="literal-block">
handlers:
1. url: /images
   static_dir: static/images
2. url: /.*
   script: hello.app
</pre>
</div>
<div class="section" id="api-version">
<h3>api_version</h3>
</div>
<div class="section" id="threadsafe">
<h3>threadsafe</h3>
</div>
<div class="section" id="default-expiration">
<h3>default_expiration</h3>
<p>静态文件默认缓存时间
例子:
default_expiration: &quot;4d 5h&quot;</p>
</div>
</div>
<div class="section" id="script-heandler">
<h2>script heandler</h2>
<div class="section" id="example">
<h3>example</h3>
<pre class="literal-block">
handlers:
  url: /list/(.*?)/(.*)
    script: hello.app
    login:
    autho_fail_action:
    secure:
</pre>
</div>
</div>
<div class="section" id="static-handler">
<h2>static handler</h2>
<div class="section" id="id1">
<h3>elements</h3>
<div class="section" id="directory">
<h4>Directory:</h4>
<ol class="arabic simple">
<li>url</li>
<li>static_dir</li>
<li>application_readable: make the app can read the files</li>
<li>mime_type</li>
<li>http_headers</li>
<li>expiration</li>
</ol>
</div>
<div class="section" id="file">
<h4>FIle:</h4>
<ol class="arabic simple">
<li>url</li>
<li>static_files: 使用12正则匹配</li>
<li>upload: ??</li>
<li>application_readable:</li>
<li>mimetype</li>
<li>http_headers</li>
<li>expiration</li>
</ol>
</div>
</div>
<div class="section" id="id2">
<h3>example</h3>
</div>
</div>
<div class="section" id="builtin-handlers">
<h2>builtin handlers</h2>
<div class="section" id="id3">
<h3>例子</h3>
<pre class="literal-block">
builtions:
1. datasotore_admin: on
2. appstats: on
</pre>
</div>
<div class="section" id="id4">
<h3>??</h3>
<ol class="arabic simple">
<li>/_ah/admin</li>
<li>/_ah/stats/</li>
<li>/_ah/datastore_admin</li>
<li>/_ah/remote_api</li>
<li>/_ah/queue/deferred</li>
</ol>
</div>
</div>
<div class="section" id="includes">
<h2>includes</h2>
</div>
<div class="section" id="libraries">
<h2>libraries</h2>
<pre class="literal-block">
- name: jinja2
  version: latest
</pre>
</div>
<div class="section" id="admin-console-custom-page">
<h2>admin console custom page</h2>
<pre class="literal-block">
admin_console:
  pages:
  - name:
     url:
</pre>
</div>
<div class="section" id="error-handlers">
<h2>error_handlers</h2>
</div>
<div class="section" id="rewriters">
<h2>Rewriters</h2>
</div>
<div class="section" id="id5">
<h2>总结</h2>
<div class="line-block">
<div class="line">title        | status         | desc |</div>
<div class="line">Rewrite      | TODO           |      |</div>
<div class="line">includes     | TODO           |      |</div>
<div class="line">/_ah         | TODO           |      |</div>
<div class="line">skip_files   | not understadn |      |</div>
<div class="line">Env variable | os.environment |      |</div>
</div>
</div>
<div class="section" id="id6">
<h2>待整理</h2>
<p><strong>TODO</strong></p>
</div>
                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/gaepeng-dao-de-xiao-wen-ti.html" rel="bookmark"
                           title="Permalink to GAE碰到的小问题">GAE碰到的小问题</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T15:13:41+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/gae.html">GAE</a> </p>
</footer><!-- /.post-info -->                <div class="section" id="url">
<h2>url匹配失败问题</h2>
<p>在app.yaml中配置的url使用的是正则表达式,而不是通配符的形式,
所以要使用.* 代替 *</p>
</div>
<div class="section" id="request-method-not-allowed-webapp2">
<h2>request method not allowed问题 :webapp2:</h2>
<p>webapp2的get/post对应相应的http请求,
注意大小写和缩进问题</p>
</div>

                <a class="readmore" href="/gaepeng-dao-de-xiao-wen-ti.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/gae-datastorexiang-guan.html" rel="bookmark"
                           title="Permalink to GAE datastore相关">GAE datastore相关</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T15:12:17+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/gae.html">GAE</a> <a href="/tag/datastore.html">datastore</a> </p>
</footer><!-- /.post-info -->                <div class="section" id="about-key">
<h2>about Key</h2>
<p>Key is a kind-identifier pairs,
kind default to be the Kind-string,
and can be change be rewrite the model's _get_kind() method.
identifier can be auto and handed by the app</p>
<p>Key can have a sequence of parent, which I'm lookforward to.</p>
<div class="line-block">
<div class="line">api                    | desc                                         |   |</div>
<div class="line">ndb.Key(kind ...</div></div></div>
                <a class="readmore" href="/gae-datastorexiang-guan.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>