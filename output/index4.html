<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>hackrole's note</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">hackrole's note </a></h1>
                <nav><ul>
                    <li><a href="/category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->

                <section id="content" class="body">
                    <ol id="posts-list" class="hfeed" start="9">
            <li><article class="hentry">
                <header>
                    <h1><a href="/lisp-ji-ben-gai-nian-yu-nei-jian-shu-ju-lei-xing-jian-jie.html" rel="bookmark"
                           title="Permalink to lisp 基本概念与内建数据类型简介">lisp 基本概念与内建数据类型简介</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:56:20+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/elisp.html">elisp</a> </p>
</footer><!-- /.post-info -->                <div class="section" id="id1">
<h2>lisp的基本特性</h2>
<ul class="simple">
<li>变量不需要提前声明</li>
<li>几种基本类型(integer,list, buffer等)是内建实现</li>
<li>通过函数判断数据类型，可以属于多个类型，但只能属于一种你基本类型</li>
</ul>
</div>
<div class="section" id="integer-type">
<h2>integer type</h2>
<ul class="simple">
<li>在32位机器中,  range(-2**29 to -2**29 -1)</li>
<li>lisp函数不做溢出判断，程序要注意溢出危险</li>
</ul>
</div>
<div class="section" id="float-type">
<h2>float type</h2>
<ul class="simple">
<li>使用c语言double实现</li>
</ul>
</div>
<div class="section" id="char-type">
<h2>char type</h2>
<ul class="simple">
<li>使用integer表示</li>
<li>range(0-4194303)</li>
<li>读入语法形式 ?a, ?A ?\ ?( ?a</li>
</ul>
<p>...</p>
</div>
<div class="section" id="symbol-type">
<h2>symbol type</h2>
<ul class="simple">
<li>unique唯一性</li>
<li>:开头为常量</li>
</ul>
</div>
<div class="section" id="sequence-types">
<h2>sequence types</h2>
<ul class="simple">
<li>包含list和arrays两种类型</li>
</ul>
<div class="section" id="list-type-arrays-type">
<h3>list type 与 arrays type</h3>
<ul class="simple">
<li>list可以包含任意对象</li>
<li>list长度可以任意调整</li>
</ul>
</div>
</div>
<div class="section" id="cons-cell-and-list-type">
<h2>cons cell ...</h2></div>
                <a class="readmore" href="/lisp-ji-ben-gai-nian-yu-nei-jian-shu-ju-lei-xing-jian-jie.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/elisp-bufferchu-li-xiang-guan.html" rel="bookmark"
                           title="Permalink to elisp buffer处理相关">elisp buffer处理相关</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:55:08+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/elisp.html">elisp</a> <a href="/tag/emacs.html">emacs</a> </p>
</footer><!-- /.post-info -->                <div class="section" id="buffer">
<h2>buffer基本概念</h2>
<p>buffer是一个elisp对象，包含一些必要的属性,
部分属性可以直接通过变量访问,部分属性要通过函数才能访问</p>
<p>buffer一般会关联一个打开的文件，也可不关联</p>
<p>buffer都有一个唯一name属性</p>
<p>buffer-local变量使得可以对不同buffer保存不同的状态等</p>
<p>bufferp函数测试symbal是否为buffer</p>
</div>
<div class="section" id="id1">
<h2>buffer基本属性</h2>
</div>
<div class="section" id="the-current-buffer">
<h2>the current buffer</h2>
</div>
<div class="section" id="buffer-name">
<h2>buffer name</h2>
<div class="section" id="buffer-file-name">
<h3>buffer file name</h3>
</div>
<div class="section" id="buffer-modify">
<h3>buffer modify</h3>
</div>
<div class="section" id="read-only-buffer">
<h3>read-only buffer</h3>
</div>
<div class="section" id="buffer-list">
<h3>buffer list</h3>
</div>
</div>
<div class="section" id="id2">
<h2>buffer操作函数</h2>
</div>

                <a class="readmore" href="/elisp-bufferchu-li-xiang-guan.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/ejabberdfu-wu-qi-pei-zhi-yu-chang-jian-wen-ti-hui-zong.html" rel="bookmark"
                           title="Permalink to ejabberd服务器配置与常见问题汇总">ejabberd服务器配置与常见问题汇总</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:51:58+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/ejabberd.html">ejabberd</a> </p>
</footer><!-- /.post-info -->                <div class="section" id="pt-getserver">
<h2>pt-get安装后无法启动server</h2>
<ol class="arabic simple">
<li>查看下/etc/ejabberd/目录下文件的所有者和文件权限</li>
<li>查看下/var/log/ejabberd/目录下的文件所有者和文件权限</li>
<li>ps aux | grep ejabberd 查看是否有运行中的ejabberd服务</li>
</ol>
</div>
<div class="section" id="admin">
<h2>admin登录失败</h2>
<ol class="arabic">
<li><p class="first">用户名应使用admin&#64;localhost,而不是admin</p>
</li>
<li><p class="first">调用sudo ejabberdctl register admin localhost admin</p>
</li>
<li><p class="first">检查/etc/ejabberd/ejabberd.cfg配置文件:</p>
<pre class="literal-block">
1) {acl, admin, {user, &quot;admin&quot;, &quot;localhost&quot;}}.

2) {hosts, [&quot;localhost&quot;, &quot;192.168.1.106&quot;]}.

3) {access, configure, [{allow, admin}]}.

4)   {5280 ...</pre></li></ol></div>
                <a class="readmore" href="/ejabberdfu-wu-qi-pei-zhi-yu-chang-jian-wen-ti-hui-zong.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/dockerru-men.html" rel="bookmark"
                           title="Permalink to docker入门">docker入门</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:49:44+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/docker.html">docker</a> <a href="/tag/vagrant.html">vagrant</a> </p>
</footer><!-- /.post-info -->                <p>docker不久，不过个人感觉docker还是很有用的，有时间要好好研究下。</p>
<div class="section" id="docker-vs-vagrant">
<h2>docker vs Vagrant</h2>
<p>docker和vagrant感觉上很想，但是差别也很大.</p>
<p>虽然同样是做虚拟相关的东西.</p>
<ol class="arabic simple">
<li>vagrant相当与一个虚拟机的命令行管理工具，能快速配置基于vbox/vmware虚拟机环境.提供的是一个完整的虚拟机环境.</li>
<li>docker抽象程度更高，系统资源利用率更高，为进程提供一个容器。来减少对外部系统的依赖。也能方便大规模部署等.</li>
</ol>
<p>除了这一本质上的区别， 两者还有很多的相似之处。</p>
<ol class="arabic simple">
<li>相似的命令行操作。</li>
<li>都支持hug上下载和上传img.</li>
<li>都有类似img/instance之类的概念存在.</li>
</ol>
</div>
<div class="section" id="id1">
<h2>docker中的概念</h2>
<div class="section" id="docker-hug">
<h3>docker hug</h3>
<p>类似git-hub，方便用户上传和下载img。</p>
</div>
<div class="section" id="img">
<h3>img</h3>
<p>可以认为是docker容器的class对象，封装必要的进程环境，方便必要时快速启动和大规模部署服务.</p>
</div>
<div class="section" id="contain">
<h3>contain 容器</h3>
<p>进程的执行容器，也是img的运行中实例。</p>
</div>
<div class="section" id="network-port">
<h3>network port</h3>
<p>docker一般将contain内容的端口映射到一个外部主机端口，这样才能通过网络访问容器内的网络服务.</p>
</div>
</div>
<div class="section" id="id2">
<h2>docker命令</h2>
<div class="section" id="docker-ps">
<h3>docker ps</h3>
</div>
<div class="section" id="docker-build">
<h3>docker build</h3>
</div>
<div class="section" id="docker-run">
<h3>docker run</h3>
</div>
<div class="section" id="docker-logs">
<h3>docker logs ...</h3></div></div>
                <a class="readmore" href="/dockerru-men.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/ruan-jian-kai-fa-de-dead-warning.html" rel="bookmark"
                           title="Permalink to 软件开发的dead warning">软件开发的dead warning</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:48:27+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/develop.html">develop</a> <a href="/tag/style.html">style</a> </p>
</footer><!-- /.post-info -->                <div class="section" id="id1">
<h2>严格遵守自底而上的设计策略</h2>
<ul class="simple">
<li>底层模块为上层模块提供服务和封装</li>
<li>底层模块绝不能调用上层模块,逆向调用为死线</li>
</ul>
</div>
<div class="section" id="id2">
<h2>绝对避免过大的对象</h2>
<ul class="simple">
<li>对象的职责尽可能单一,models不应该即负责持久化, 又负责封装业务规则.</li>
<li>尽一切可能拆分逻辑中不易变化的业务和容易变化的逻辑</li>
</ul>
</div>

                <a class="readmore" href="/ruan-jian-kai-fa-de-dead-warning.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/eclipseguo-cheng-hu-lue-zhi-ji-lu-vimshellguo-cheng.html" rel="bookmark"
                           title="Permalink to eclipse过程忽略，只记录vim/shell过程">eclipse过程忽略，只记录vim/shell过程</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:43:40+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/android.html">android</a> <a href="/tag/hello-world.html">hello world</a> </p>
</footer><!-- /.post-info -->                <div class="section" id="id1">
<h2>开始工程</h2>
<ol class="arabic simple">
<li>android list targets</li>
<li>android create project --target &lt;target-id&gt; --name MyFirstApp --path &lt;path-to-workspace&gt;/MyFirstApp --activity MainActivity --package com.example.myfirstapp</li>
</ol>
<div class="section" id="id2">
<h3>重点</h3>
<div class="section" id="android-sdk">
<h4>下载配置android-sdk,配置环境变量</h4>
</div>
<div class="section" id="todo-android">
<h4><strong>TODO</strong> 熟悉android的命令使用</h4>
<ol class="arabic simple">
<li>list</li>
<li>create</li>
</ol>
</div>
<div class="section" id="todo-androidmanifest-xml">
<h4><strong>TODO</strong> 主配置文件 AndroidManifest.xml</h4>
<ol class="arabic simple">
<li>包名/版本号/版本名</li>
<li>app名/app图标</li>
<li>activity/service/intent配置</li>
<li>最新版本号/目标版本号等</li>
</ol>
</div>
<div class="section" id="todo-ant-gradel">
<h4><strong>TODO</strong> ant/gradel编译系统</h4>
<p>classpath变量处理??</p>
</div>
</div>
</div>
<div class="section" id="hello-world">
<h2>运行hello world</h2>
<ol class="arabic simple">
<li>ant debug</li>
<li>adb ...</li></ol></div>
                <a class="readmore" href="/eclipseguo-cheng-hu-lue-zhi-ji-lu-vimshellguo-cheng.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/vimbian-liang-xiang-guan.html" rel="bookmark"
                           title="Permalink to vim变量相关">vim变量相关</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:35:44+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/vim.html">vim</a> <a href="/tag/vimscript.html">vimscript</a> </p>
</footer><!-- /.post-info -->                <div class="section" id="id1">
<h2>概述</h2>
<p>vim里的变量通过let定义.</p>
<p>变量类型:</p>
<ol class="arabic simple">
<li>基本变量. let a = 'hello'</li>
<li>选项 let &amp;number = 1. let &amp;l:number=1</li>
<li>寄存器 let &#64;a='hello'</li>
</ol>
<p>变量的作用域:</p>
<ol class="arabic simple">
<li>script. let s:a = 'hello'</li>
<li>global. let g:a = 'hello'</li>
<li>buffer. let b:a = 'hello'</li>
</ol>
</div>

                <a class="readmore" href="/vimbian-liang-xiang-guan.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/redischi-jiu-hua-pei-zhi-xiang-guan.html" rel="bookmark"
                           title="Permalink to redis持久化配置相关">redis持久化配置相关</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:35:13+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/redis.html">redis</a> <a href="/tag/redis_persistence.html">redis_persistence</a> <a href="/tag/redischi-jiu-hua.html">redis持久化</a> </p>
</footer><!-- /.post-info -->                <p class="first last">redis持久化配置相关</p>

                <a class="readmore" href="/redischi-jiu-hua-pei-zhi-xiang-guan.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/redisfu-wu-guan-li-xu-yao.html" rel="bookmark"
                           title="Permalink to redis服务管理需要">redis服务管理需要</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:34:49+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/redis.html">redis</a> </p>
</footer><!-- /.post-info -->                <p>介绍一些redis部署时的注意事项</p>
<div class="section" id="id1">
<h2>注意事项</h2>
<ol class="arabic simple">
<li>建议使用linux部署。</li>
<li>sysctl vm.overcommit_memory=1 或者 vm.overcommit_memory = 1 (/etc/sysctl.conf)</li>
<li>echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</li>
<li>设置一个和内存一样大或更大的swap分区，不然redis有可能在内存不足时被系统杀死。</li>
<li>设置一个明确的maxmemory. 这样redis会在内存到限后抛出错误，而不会falling.</li>
<li>在写比较重的场景下需要有大约2倍于normal的内存。这些是来在内存中保留那些需要被写回磁盘的数据.</li>
<li>配置supervisor类工具时，设置 daemonize no</li>
<li>开启slave特性时，即便不使用持久化特性,redis也会perform RDB save. 除非使用实验性的diskless-sync.</li>
<li>开启slaev特性时，要确保要么开发master节点的保存特性，要么关闭master节点的自动重启。</li>
<li>注意开发redis安全相关配置. require-pass/rewrite-command/bind-ip</li>
</ol>
</div>
<div class="section" id="aws">
<h2>aws注意事项</h2>
<ol class="arabic simple">
<li>使用HWS实例，不要使用pv实例</li>
<li>不要使用太老的实例。 m3 ...</li></ol></div>
                <a class="readmore" href="/redisfu-wu-guan-li-xu-yao.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/linuxubuntuxia-an-zhuang-mongodbfu-wu-qi.html" rel="bookmark"
                           title="Permalink to linux(ubuntu)下安装mongodb服务器">linux(ubuntu)下安装mongodb服务器</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T14:34:30+08:00">
                Published: 五 08 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/hackrole.html">hackrole</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/mongodb.html">mongodb</a> </p>
</footer><!-- /.post-info -->                <div class="section" id="id1">
<h2>概述</h2>
<p>安装过程可以参考观望，文档很详细.</p>
<p>ubuntu官网源有提供mongodb安装，但是一般版本都比较落后，更新不及时。
所以可以采用mongodb提供的安装源，安装最新的mongodb.</p>
<p>mongodb只为64-bit的长期支持版本提供安装源，即ubuntu12.04/ubuntu14.04. 其他版本也许可以使用，但是不推荐。</p>
<p>mongodb官网有5个主要的包:
1) mongodb-dev. meta-pacage. 自动安装其他四个包.
2) mongodb-org-server. mongod-daemon以及配置文件/init脚本
3) mongodb-org-mongos. mongos-daemon.
4) mongodb-org-shell. mongo-shell
5) mongodb-org-tools. mongoimport/mongodump/bsondump/mongoexport/retore/stat/perf/oplog等工具.</p>
</div>
<div class="section" id="id2">
<h2>安装过程</h2>
<p>具体过程如下:</p>
<pre class="literal-block">
# import mongodb GPK key
sudo apt-key adv --keyserver ...</pre></div>
                <a class="readmore" href="/linuxubuntuxia-an-zhuang-mongodbfu-wu-qi.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="/index3.html">&laquo;</a>
    Page 4 / 6
        <a href="/index5.html">&raquo;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>